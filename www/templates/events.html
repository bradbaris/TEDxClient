<ion-view ng-controller="EventCtrl">
  <ion-content has-bouncing="false">

    <!-- SEARCH BOX
    <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon" ></i>
        <input type="text" ng-model="query" placeholder="Search">
      </label>
    </div> -->

    <!-- HERO IMAGE -->
    <ion-item class="item-image">
      <img src="img/TEDxHonolulu_hero_FPO.jpg" />
    </ion-item>

    <!-- MAIN PAGE DESCRIP -->

    <ion-list>
      <ion-item ng-repeat="event in events" class="item">
        <div
          class="item-icon-right item-accordion"
          ng-click="toggleEvent(event)" ng-class="{active: isAgendaShown(event)}">

          <h1 ng-bind-html="event.title | parseTedX">
            <!--baller move -->
          </h1>
  
          <h2 class="red bolder">{{event.start_time}} - {{event.end_time}}</h2>
          <h2 ng-bind-html="event.description | parseTedX"></h2>

          <i class="icon icon-accessory" ng-class="isAgendaShown(event) ? 'ion-chevron-up' : 'ion-chevron-down'"></i>  
        </div>

        <div ng-show="isAgendaShown(event)">
          <h1>{{event.start_time}} - {{event.end_time}}</h1>
          <h2>{{shown_event.location}}</h2>
          <h2 class="red">{{event.speaker}}</h2>
          <p>{{event.description}}</p>
        </div>
      </ion-item>
    </ion-list>


    <!-- GOOGLE MAP SNIPPET -->
    <ion-item class="item">
      <iframe
        width="100%"
        height="300"
        frameborder="0" style="border:0"
        src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCtcxg8NOJyBQfulWlRueh9pVMgNkj9lr0&q=Manoa+Innovation+Center">
      </iframe>
    </ion-item>


    <!-- AGENDA MANIFEST -->


    <ion-list>
      <div ng-repeat="agenda in agendas">

        <ion-item class="list card" ng-click="toggleAgenda(agenda)" ng-class="{active: isAgendaShown(agenda)}">

          <div class="item item-avatar item-icon-right">
            <img src="http://tedx-api.devleague.com/uploads/{{agenda.image_name}}">
            <h2 class="bolder">{{agenda.title}}</h2>
            <h3 class="red">{{shown_event.start_time}} - {{shown_event.end_time}}</h3>
            <i class="icon icon-accessory" ng-class="isAgendaShown(agenda) ? 'ion-chevron-up' : 'ion-chevron-down'"></i>
          </div>

          <div class="item-accordion item item-body" ng-show="isAgendaShown(agenda)">
            <img class="full-image" src="http://tedx-api.devleague.com/uploads/{{agenda.image_name}}">
            <h1>{{agenda.start_time}} - {{agenda.end_time}}</h1>
            <h2 class="red">{{agenda.speaker}}</h2>
            <p>{{agenda.description}}</p>
          </div>

          <div class="item tabs tabs-secondary tabs-icon-left">
            <a class="tab-item" href="#">
              <i class="icon ion-thumbsup"></i>
              Like
            </a>
            <a class="tab-item" href="#">
              <i class="icon ion-chatbox"></i>
              Comment
            </a>
            <a class="tab-item" href="#">
              <i class="icon ion-share"></i>
              Share
            </a>
          </div>
        </ion-item>

      </div>
    </ion-list>

  </ion-content>
</ion-view>

